/*
 * Copyright (c) 2025 ArqAlice
 *
 * Released under the MIT license
 * https://opensource.org/licenses/mit-license.php
 */

#include <stdlib.h>
#include "pico/stdlib.h"

// BQ-IIR 2x filter0  44.1k/48k to 88.2k/96k
const float coef_bq_filter_2x_0[][6] =
    {{0.0002343756245407308, 0.00046261038494493294, 0.00023437562454073092, 1.0, 0.34383476467956303, 0.0},
     {1.0, 1.89812104364948, 1.0000000000000002, 1.0, 0.6810483393061059, 0.12307481835318078},
     {1.0, 1.7810055695841391, 0.9999999999999999, 1.0, 0.6615356761302918, 0.1374624529582442},
     {1.0, 1.6337297170025797, 1.0000000000000002, 1.0, 0.6301472851776473, 0.16089674437346455},
     {1.0, 1.4685524707857411, 0.9999999999999999, 1.0, 0.5884603800255389, 0.192628943418042},
     {1.0, 1.0, 0.0, 1.0, 0.5384641893414541, 0.23173524542426227},
     {1.0, 1.296822578668515, 1.0, 1.0, 0.48239145693743424, 0.2772142190102482},
     {1.0, 1.1278393438001153, 1.0, 1.0, 0.42255747906659463, 0.32808236950839226},
     {1.0, 0.9684697923667892, 1.0000000000000002, 1.0, 0.36122710766115024, 0.3834572335377698},
     {1.0, 0.8233023398606203, 1.0, 1.0, 0.3005212707706507, 0.4426224314089384},
     {1.0, 0.6950746910352855, 1.0, 1.0, 0.24236596939879862, 0.5050740484990563},
     {1.0, 0.5851746528236481, 1.0000000000000002, 1.0, 0.18848039994684762, 0.5705515201308402},
     {1.0, 0.4940981320503109, 1.0, 1.0, 0.14039752920655513, 0.639058517311182},
     {1.0, 0.4218169750660667, 0.9999999999999999, 1.0, 0.0995098307759089, 0.7108803915806089},
     {1.0, 0.36805038311511556, 0.9999999999999997, 1.0, 0.06713422278090464, 0.7866050410800731},
     {1.0, 0.3324525252995839, 0.9999999999999998, 1.0, 0.04459274451885918, 0.8671541699927742},
     {1.0, 0.31473414190031973, 1.0, 1.0, 0.03330861973033162, 0.9538323315084795}};

const uint32_t size_coef_bqfilter_2x_0 = sizeof(coef_bq_filter_2x_0) / sizeof(float);

// BQ-IIR 2x filter1  88.2k/96k to 176.4k/192k
const float coef_bq_filter_2x_1[][6] =
    {{3.935060557949697e-05, 7.620427573587735e-05, 3.935060557949698e-05, 1.0, -0.8218933257725417, 0.17365817094497885},
     {1.0, 1.5218734086960366, 0.9999999999999999, 1.0, -0.8689368976525133, 0.2315521913233978},
     {1.0, 1.0090100171070195, 0.9999999999999998, 1.0, -0.9635361487535004, 0.3500179148817988},
     {1.0, 0.626528789932597, 0.9999999999999999, 1.0, -1.1092390567678763, 0.537535393815809},
     {1.0, 0.435219131085549, 1.0000000000000002, 1.0, -1.3176810631063525, 0.8149742025551101}};
;

const uint32_t size_coef_bqfilter_2x_1 = sizeof(coef_bq_filter_2x_1) / sizeof(float);

// BQ-IIR 2x filter2  176.4k/192k to 352.8k/384k
const float coef_bq_filter_2x_2[][6] =
    {{7.331409658980419e-06, 1.3658751350342684e-05, 7.331409658980423e-06, 1.0, -1.2816769353089004, 0.41422377350564477},
     {1.0, 1.106773090818239, 1.0, 1.0, -1.3472004160176496, 0.48473097896656375},
     {1.0, 0.43313123434498524, 1.0, 1.0, -1.4801044276329434, 0.6285025578761835},
     {1.0, 0.10967205424069733, 1.0, 1.0, -1.6862717576220687, 0.8532309485716787}};

const uint32_t size_coef_bqfilter_2x_2 = sizeof(coef_bq_filter_2x_2) / sizeof(float);

// BQ-IIR 2x filter3  352.8k/384k to 705.6k/768k
const float coef_bq_filter_2x_3[][6] =
    {{7.591714409361235e-07, 5.977812013727558e-07, 7.591714409361237e-07, 1.0, -0.8153896333098454, 0.0},
     {1.0, -0.34197532068910574, 0.9999999999999999, 1.0, -1.6595811713274504, 0.6941071340775591},
     {1.0, 1.0, 0.0, 1.0, -1.7438864507820504, 0.7798011281314047},
     {1.0, -0.7485893714724158, 1.0, 1.0, -1.8776984300256514, 0.9160592695961303}};

const uint32_t size_coef_bqfilter_2x_3 = sizeof(coef_bq_filter_2x_3) / sizeof(float);

// BQ-IIR 4x filter0  352.8k/384k to 1411.2k/1536k
const float coef_bq_filter_4x_0[][6] =
    {{5.387756499116675e-07, 5.295041771639956e-07, 5.387756499116674e-07, 1.0, -1.8012094984621612, 0.8117345477897354},
     {1.0, -0.8717934351807886, 1.0, 1.0, -1.84871679612354, 0.8594503158324095},
     {1.0, -1.3043326329001699, 1.0000000000000002, 1.0, -1.9353227815837257, 0.94648768126873}};

const uint32_t size_coef_bq_filter_4x_0 = sizeof(coef_bq_filter_4x_0) / sizeof(float);

// FIR 4x filter0  44.1k/48k to 176.4k/192k
const float coef_fir_filter_4x_0[] =
    {2.377579249192807e-10, 6.576436052612324e-10, -3.496525474792943e-09, -2.4394975483586873e-09, 1.0044371520647718e-08, 1.4789229734804425e-08,
     -4.970688922625634e-09, -4.143686752457605e-08, -5.162984086081841e-08, 1.1757411884962533e-08, 1.3185575297106159e-07, 1.8923323271222424e-07,
     3.676610654836328e-08, -3.214031469533204e-07, -6.035983268357457e-07, -3.80963780550024e-07, 5.062801228491597e-07, 1.544802103112426e-06,
     1.6455190895075981e-06, -2.475164749386721e-08, -2.9272486480670096e-06, -4.803359818393535e-06, -2.961392056315317e-06, 3.166479897976295e-06,
     1.0113382174536351e-05, 1.1457150403262079e-05, 2.49455949031935e-06, -1.4161574964532e-05, -2.7059093852554193e-05, -2.206000691078022e-05,
     5.789944825000704e-06, 4.30081326648609e-05, 6.08912591947545e-05, 3.4109785139675654e-05, -3.5127543354271343e-05, -0.00010649333219390201,
     -0.00011981229726634057, -3.8388483558589254e-05, 0.00010983190386153442, 0.0002294470426480122, 0.000210545279841795, 1.4142544294188902e-05,
     -0.000269029375443417, -0.00044462371309301064, -0.00033430439199916555, 7.60199625362688e-05, 0.0005691317988247049, 0.0007907723140488186,
     0.0004820188727531417, -0.000290039895166873, -0.0010839327903925558, -0.001309102757138179, -0.0006303435527589394, 0.0007073392722440584,
     0.001901680311395796, 0.002039261821354295, 0.0007406111828244994, -0.0014251803330043577, -0.0031193752773236555, -0.0030168406655575377,
     -0.000763058750008358, 0.002549595695699662, 0.004835651242425845, 0.004275042797634761, 0.0006482831767097956, -0.004181103840183728,
     -0.007144516988118204, -0.005853228198687779, -0.00036713790562056434, 0.006396312767382138, 0.010132533476039388, 0.007814613891345848,
     -6.026978369496684e-05, -0.009226425937018964, -0.013881179739024599, -0.010274712126301499, 0.0005252428543107452, 0.012631496939284694,
     0.018473631047710777, 0.013441474046951297, -0.0007766038629624279, -0.016463324005388476, -0.02399958459618219, -0.01766738073423981,
     0.0003411282910698735, 0.02039692509435478, 0.030539178363772124, 0.02351026956241449, 0.0016049050442344007, -0.023783729193226848,
     -0.038076007017426305, -0.03178243307868141, -0.0064511174162168415, 0.025324854219176497, 0.046207617121814926, 0.04349671115392817,
     0.01648704454938504, -0.022359048392711134, -0.05330405098608827, -0.05935536362602635, -0.035225967609010256, 0.009430969015185822,
     0.054213226063343514, 0.07750031955068441, 0.06662719374435583, 0.023846169452172498, -0.03454757752055591, -0.08520632574959447,
     -0.10737566840530458, -0.09085501338237632, -0.039119068335427526, 0.03310736637665369, 0.10611675385574962, 0.16232366554500807,
     0.19139849242940513, 0.19194578910576668, 0.16989354176822852, 0.13496213556504724, 0.09693950909637042, 0.06307301287985731,
     0.037085849824722704, 0.01957952157841827, 0.00917793794861192, 0.0037516666321589518, 0.001299162100418252, 0.00036266640066355695,
     7.404604056595376e-05, 8.564405566961502e-06};

const uint32_t size_coef_fir_filter_4x_0 = sizeof(coef_fir_filter_4x_0) / sizeof(float);

// FIR 2x filter1  88.2k/96k to 176.4k/192k
const float coef_fir_filter_2x_1[] =
    {-9.487966163104853e-10, -3.5340924713787084e-09, 4.2726994320443245e-08, 1.3090689733882082e-07, -2.2939270286939258e-07, -1.518209169374895e-06,
     -1.676408401526929e-06, 4.729124291082094e-06, 1.7683314132634787e-05, 1.638726703834121e-05, -3.3577372621264804e-05, -0.00012270230405724014,
     -0.00013262201992526588, 0.00010618777396987576, 0.0005632025915198933, 0.0007699887185120032, 3.776474106860893e-05, -0.0017011106210167515,
     -0.0030958204634353023, -0.0018714865939526801, 0.002925774169318973, 0.00855400259910473, 0.00907494568871351, 9.455934469275386e-05,
     -0.015249553448507968, -0.025198038320748274, -0.01689897667620495, 0.011380752057310525, 0.043745943458961135, 0.054188092486256105,
     0.02551690798276319, -0.03401828440051029, -0.09083769412674561, -0.10533368603089906, -0.05755639560388964, 0.03911997641415518,
     0.14580390607737992, 0.2209550550852799, 0.24208720183672777, 0.21316488764332628, 0.1562901984488822, 0.09646656357981995,
     0.049991614557148484, 0.021443941069533172, 0.0073986748359036875, 0.0019479035135361207, 0.0003523537145792295, 3.3360564843645475e-05};
;

const uint32_t size_coef_fir_filter_2x_1 = sizeof(coef_fir_filter_2x_1) / sizeof(float);

// FIR 2x filter2  176.4k/192k to 352.8k/384k
const float coef_fir_filter_2x_2[] =
    {3.709785722749179e-05, 0.0003870655704767057, 0.0021165004026559055, 0.007957413759498986, 0.022836332911075785, 0.052711401885535795,
     0.10066975951123919, 0.1612913457220298, 0.21722465591574142, 0.24293559925691396, 0.21707007373971038, 0.13775159515431962,
     0.029864171484109126, -0.06398848555982675, -0.10622482367969052, -0.08657066144169431, -0.027853431513826864, 0.02964844858648731,
     0.054267300242787864, 0.040704386895273004, 0.007951319262839814, -0.01840793502548421, -0.024386646664519868, -0.013403764281419435,
     0.00138951273434572, 0.009150966328861511, 0.007831397429342066, 0.002222830489588985, -0.002081930453911382, -0.002892066029001908,
     -0.0014213984236683141, 0.00016071711720891515, 0.0007319925110537198, 0.0004791442447250391, 6.224213085782626e-05, -0.0001288094843742611,
     -0.00010363666390114375, -2.3207236303279864e-05, 1.617054560147816e-05, 1.4490979640598436e-05, 3.2303632696684967e-06, -1.5688680645295024e-06,
     -1.1644240182924044e-06, -1.3691560125759443e-07, 1.0285352714726494e-07, 2.897584527358658e-08, -2.69127915770613e-09, -6.009812970373258e-10};

const uint32_t size_coef_fir_filter_2x_2 = sizeof(coef_fir_filter_2x_2) / sizeof(float);